(window.webpackJsonp=window.webpackJsonp||[]).push([[22,11],{"./components/molecules/updateFamily.vue":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.includes.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.includes.js");var helper=__webpack_require__("./plugins/helper.js"),molecules_updateFamilyvue_type_script_lang_js_={name:"MyTest02",props:{dri:{type:Object,required:!0},member:{type:Array,required:!0}},data:function data(){return{fieldDRI:[{key:"name",sortable:!1},{key:"value",sortable:!1}],sortBy:"id",fieldMember:[{key:"name",sortable:!1},{key:"number",sortable:!1}]}},computed:{familyMember:{get:function get(){return this.member},set:function set(val){console.log(val)}},familySizes:{get:function get(){return this.familyMember}},familyDri:{get:function get(){return this.formatDriTable(Object(helper.j)(this.dri,this.member,void 0,2))}}},created:function created(){this.driTemp=this.dri},methods:{updateMember:function updateMember(id,number){var tmpResult=JSON.parse(JSON.stringify(this.member)).map((function(item){return item.id===id&&(item.number=number),item}));this.$emit("update:member",tmpResult),Object(helper.i)(this,"happy")},updateMemberPlusOne:function updateMemberPlusOne(id){var tmpResult=JSON.parse(JSON.stringify(this.member)).map((function(item){return item.id===id&&(item.number+=1),item}));this.$emit("update:member",tmpResult)},updateMemberMinusOne:function updateMemberMinusOne(id){var tmpResult=JSON.parse(JSON.stringify(this.member)).map((function(item){return item.id===id&&item.number>0&&(item.number-=1),item}));this.$emit("update:member",tmpResult)},formatDriTable:function formatDriTable(arr){return arr?arr.map((function(item){var index=0,myKey=item.name;return["En"].includes(myKey)?index=0:["Pr"].includes(myKey)?index=1:["Va"].includes(myKey)?index=2:["Fe"].includes(myKey)&&(index=3),{name:myKey,value:Object(helper.l)(item.value,index)}})):[]}}},componentNormalizer=__webpack_require__("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");const __vuedocgen_export_0=Object(componentNormalizer.a)(molecules_updateFamilyvue_type_script_lang_js_,(function render(){var _vm=this,_c=_vm._self._c;return _c("b-container",[_c("b-table",{attrs:{small:"",stripped:"",responsive:"",items:_vm.familyMember,fields:_vm.fieldMember},scopedSlots:_vm._u([{key:"cell(number)",fn:function fn(data){return[_c("div",{staticClass:"d-flex justify-content-around align-items-center"},[_c("b-icon",{staticClass:"mx-2",staticStyle:{cursor:"pointer"},attrs:{icon:"BIconPlusCircleFill",scale:"1.5"},on:{click:function click($event){return _vm.updateMemberPlusOne(data.item.id)}}}),_vm._v(" "),_c("b-form-input",{staticClass:"d-flex justify-content-center",attrs:{value:data.item.number,type:"number",size:"sm"},on:{input:function input($event){return _vm.updateMember(data.item.id,$event)}}}),_vm._v(" "),_c("b-icon",{staticClass:"mx-2",staticStyle:{cursor:"pointer"},attrs:{icon:"BIconDashCircleFill",scale:"1.5"},on:{click:function click($event){return _vm.updateMemberMinusOne(data.item.id)}}})],1)]}}])}),_vm._v(" "),_c("b-table",{staticClass:"jest_table",attrs:{striped:"",bordered:"",small:"",fixed:!0,"head-row-variant":"success","table-variant":"light",items:_vm.familyDri,fields:_vm.fieldDRI},scopedSlots:_vm._u([{key:"cell(Value)",fn:function fn(data){return[_c("span",{staticClass:"text-info"},[_vm._v(_vm._s(data))])]}},{key:"table-caption",fn:function fn(){return[_vm._v("\n      KC: KiloCalorie, MC: MegaCalorie, GC: GigaCalorie\n    ")]},proxy:!0}])})],1)}),[],!1,null,"05f6609a",null).exports;__webpack_exports__.default=__vuedocgen_export_0;__vuedocgen_export_0.__docgenInfo={displayName:"MyTest02",exportName:"default",description:"",tags:{},props:[{name:"dri",type:{name:"object"},required:!0},{name:"member",type:{name:"array"},required:!0}],events:[{name:"update:member",type:{names:["undefined"]}}],sourceFiles:["/Users/shunichinakada/Documents/nuxt/nfaApp01/components/molecules/updateFamily.vue"]}},"./pages/test/test02.vue":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.reduce.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/@storybook/core-common/node_modules/core-js/modules/es.function.name.js");var toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),helper=(__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.splice.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.array.find.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./plugins/helper.js")),test_test02vue_type_script_lang_js_={name:"MyTest02",components:{updateFamily:__webpack_require__("./components/molecules/updateFamily.vue").default},data:function data(){return{tablePop:[],initPop:[],newFamilyName:"",selectedFamilyName:"",modeNewFamily:!0}},computed:{familyList:{get:function get(){return this.$store.state.fire.myApp.families}},familySize:{get:function get(){return this.tablePop.reduce((function(accum,curr){return accum+=curr.number}),0)}},stateFamilyName:{get:function get(){return this.newFamilyName.length>3}}},created:function created(){this.initPop=JSON.parse(JSON.stringify(this.$store.getters["fire/initialMembers"])),this.tablePop=JSON.parse(JSON.stringify(this.$store.getters["fire/initialMembers"]))},methods:{test:function test(val){Object(helper.i)(this,"this day"),console.log(val)},addNewFamily:function addNewFamily(name,member){this.$store.dispatch("fire/addNewFamily",{name:name,member:member}),this.modeNewFamily="Select",this.$store.dispatch("fire/setUpdateFlag",{element:"families",value:!0})},updateFlagForFamily:function updateFlagForFamily(){"Add"!==this.modeNewFamily&&this.$store.dispatch("fire/setUpdateFlag",{element:"families",value:!0})},initMember:function initMember(){var _this$tablePop;(_this$tablePop=this.tablePop).splice.apply(_this$tablePop,[0,this.tablePop.length].concat(Object(toConsumableArray.a)(this.initPop))),this.newFamilyName="",this.selectedFamilyName=""},selectFamily:function selectFamily(val){var _this$tablePop2;console.log(val);var resPop=this.$store.state.fire.myApp.families.find((function(item){return item.name===val})).member;(_this$tablePop2=this.tablePop).splice.apply(_this$tablePop2,[0,this.tablePop.length].concat(Object(toConsumableArray.a)(resPop)))}}},componentNormalizer=__webpack_require__("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");const __vuedocgen_export_0=Object(componentNormalizer.a)(test_test02vue_type_script_lang_js_,(function render(){var _vm=this,_c=_vm._self._c;return _c("b-container",[_c("b-form-group",{attrs:{label:"Add/Edit Family Member"}},[_c("b-form-radio-group",{staticClass:"mb-2",attrs:{options:["Add","Select"],"button-variant":"outline-primary",buttons:"",size:"sm"},on:{change:_vm.initMember},model:{value:_vm.modeNewFamily,callback:function callback($$v){_vm.modeNewFamily=$$v},expression:"modeNewFamily"}}),_vm._v(" "),"Add"===_vm.modeNewFamily?_c("b-input-group",{attrs:{prepend:"name",size:"sm"}},[_c("b-form-input",{attrs:{type:"text",state:_vm.stateFamilyName},model:{value:_vm.newFamilyName,callback:function callback($$v){_vm.newFamilyName=$$v},expression:"newFamilyName"}}),_vm._v(" "),_c("b-button",{attrs:{disabled:!_vm.stateFamilyName||0===_vm.familySize,size:"sm"},on:{click:function click($event){return _vm.addNewFamily(_vm.newFamilyName,_vm.tablePop)}}},[_vm._v("add\n      ")])],1):_vm._e(),_vm._v(" "),"Select"===_vm.modeNewFamily&&_vm.familyList.length>0?_c("b-select",{attrs:{options:_vm.$store.getters["fire/familyList"]},on:{change:_vm.selectFamily},model:{value:_vm.selectedFamilyName,callback:function callback($$v){_vm.selectedFamilyName=$$v},expression:"selectedFamilyName"}}):_vm._e(),_vm._v(" "),"Select"===_vm.modeNewFamily&&0===_vm.familyList.length?_c("div",{staticClass:"small text-danger"},[_vm._v("\n      no family registered yet\n    ")]):_vm._e()],1),_vm._v(" "),_c("update-family",{attrs:{member:_vm.tablePop,dri:_vm.$store.state.fire.driObject},on:{"update:member":function updateMember($event){_vm.tablePop=$event},update:_vm.updateFlagForFamily}})],1)}),[],!1,null,null,null).exports;__webpack_exports__.default=__vuedocgen_export_0;__vuedocgen_export_0.__docgenInfo={displayName:"MyTest02",exportName:"default",description:"",tags:{},sourceFiles:["/Users/shunichinakada/Documents/nuxt/nfaApp01/pages/test/test02.vue"]}}}]);